<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Lychee App Ultimate Demo</title>
    <style>
        /* --- åŸºç¡€æ ·å¼ --- */
        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", Helvetica, Arial, sans-serif; }
        body { background-color: #2c2c2c; display: flex; justify-content: center; align-items: center; min-height: 100vh; color: #333; }
        
        /* --- æ‰‹æœºå¤–å£³æ¨¡æ‹Ÿ --- */
        #phone-frame {
            width: 375px; height: 812px;
            background-color: #fff;
            border-radius: 40px;
            box-shadow: 0 0 0 10px #000, 0 0 0 12px #333, 0 30px 60px rgba(0,0,0,0.4);
            position: relative; overflow: hidden;
        }
        
        /* --- é€šç”¨ç»„ä»¶ --- */
        .status-bar { height: 44px; display: flex; justify-content: space-between; align-items: center; padding: 0 20px; font-size: 14px; font-weight: 600; z-index: 1000; position: absolute; top: 0; width: 100%; pointer-events: none; mix-blend-mode: difference; color: #fff; }
        .screen { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: #fff; display: none; flex-direction: column; overflow-y: auto; overflow-x: hidden; }
        .screen.active { display: flex; animation: fadeIn 0.3s cubic-bezier(0.2, 0.8, 0.2, 1); }
        .screen.sub-page { z-index: 200; background: #fff; }

        @keyframes fadeIn { from { opacity: 0.9; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes heartPop { 0% { transform: scale(1); } 50% { transform: scale(1.3); } 100% { transform: scale(1); } }

        /* æŒ‰é’®ä¸äº¤äº’ */
        .btn { width: 100%; padding: 16px; border-radius: 14px; border: none; font-size: 16px; font-weight: 600; cursor: pointer; text-align: center; }
        .btn:active { opacity: 0.8; }
        .btn-primary { background-color: #007AFF; color: white; box-shadow: 0 4px 12px rgba(0,122,255,0.3); }
        .header { height: 50px; display: flex; align-items: center; padding: 0 15px; background: #fff; position: sticky; top: 0; z-index: 10; border-bottom: 0.5px solid #eee; margin-top: 44px; }
        .header-title { flex: 1; text-align: center; font-weight: bold; font-size: 17px; }
        .back-icon { font-size: 24px; width: 40px; cursor: pointer; }

        /* --- 1. Onboarding --- */
        .onboard-screen { background-size: cover; background-position: center; justify-content: flex-end; padding-bottom: 50px; }
        .onboard-overlay { background: linear-gradient(to top, rgba(0,0,0,0.9), transparent); padding: 40px 24px; color: white; border-radius: 30px 30px 0 0; }
        .step-indicator { display: flex; gap: 6px; margin-bottom: 20px; }
        .step { width: 6px; height: 6px; background: rgba(255,255,255,0.3); border-radius: 50%; }
        .step.active { background: #007AFF; width: 20px; border-radius: 4px; }

        /* --- 2. Feed Tab (ç€‘å¸ƒæµ) --- */
        .feed-header { display: flex; justify-content: space-between; align-items: center; padding: 10px 20px; margin-top: 44px; background: #fff; position: sticky; top: 0; z-index: 5; }
        .feed-tabs { display: flex; gap: 20px; font-size: 16px; color: #999; }
        .feed-tabs .active { color: #333; font-weight: bold; position: relative; }
        .feed-tabs .active::after { content:''; position:absolute; bottom:-4px; left:50%; transform:translateX(-50%); width:20px; height:2px; background:#007AFF; }
        
        .feed-container { padding: 10px 8px 100px; column-count: 2; column-gap: 8px; }
        .feed-card { break-inside: avoid; background: #fff; border-radius: 8px; overflow: hidden; margin-bottom: 10px; position: relative; cursor: pointer; }
        .feed-img { width: 100%; display: block; background: #eee; }
        .feed-title { font-size: 13px; font-weight: 500; margin: 8px 8px 4px; line-height: 1.4; color: #333; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;}
        .feed-meta { display: flex; justify-content: space-between; align-items: center; padding: 0 8px 10px; }
        .feed-user { display: flex; align-items: center; gap: 4px; font-size: 11px; color: #666; }
        .user-avatar-xs { width: 18px; height: 18px; border-radius: 50%; background: #ccc; }
        .feed-likes { display: flex; align-items: center; gap: 2px; font-size: 11px; color: #999; }

        /* --- 3. Feed Detail (ä»¿å°çº¢ä¹¦è¯¦æƒ…) --- */
        .post-header { display: flex; align-items: center; justify-content: space-between; padding: 10px 15px; margin-top: 44px; }
        .author-info { display: flex; align-items: center; gap: 10px; }
        .author-avatar { width: 36px; height: 36px; border-radius: 50%; background: #eee; }
        .follow-btn { border: 1px solid #ff2442; color: #ff2442; font-size: 12px; padding: 4px 12px; border-radius: 14px; font-weight: 600; background: #fff; }
        .follow-btn.followed { border-color: #ddd; color: #999; }

        .post-gallery { width: 100%; height: 450px; background: #000; display: flex; overflow-x: auto; scroll-snap-type: x mandatory; scrollbar-width: none; }
        .post-gallery img { width: 100%; height: 100%; object-fit: cover; scroll-snap-align: center; flex-shrink: 0; }
        .gallery-dots { display: flex; justify-content: center; gap: 6px; margin-top: -20px; position: relative; z-index: 2; margin-bottom: 10px; }
        .g-dot { width: 6px; height: 6px; background: rgba(255,255,255,0.5); border-radius: 50%; }
        .g-dot.active { background: #007AFF; }

        .post-content { padding: 15px; }
        .post-title { font-size: 18px; font-weight: bold; margin-bottom: 10px; line-height: 1.4; }
        .post-text { font-size: 15px; line-height: 1.6; color: #333; margin-bottom: 15px; }
        .post-tags { color: #1e3a8a; font-size: 14px; margin-bottom: 20px; }
        .post-date { font-size: 12px; color: #999; margin-bottom: 10px; }

        /* è¯„è®ºåŒºæ ·å¼ */
        .comment-section { padding: 0 15px 100px; border-top: 0.5px solid #eee; }
        .cmt-count { font-size: 14px; font-weight: bold; margin: 15px 0; }
        .cmt-item { display: flex; gap: 10px; margin-bottom: 20px; }
        .cmt-avatar { width: 32px; height: 32px; border-radius: 50%; background: #eee; flex-shrink: 0; }
        .cmt-body { flex: 1; }
        .cmt-user { font-size: 13px; color: #666; margin-bottom: 2px; }
        .cmt-text { font-size: 14px; color: #333; line-height: 1.4; margin-bottom: 4px; }
        .cmt-meta { font-size: 11px; color: #999; display: flex; gap: 10px; }
        .cmt-like { display: flex; flex-direction: column; align-items: center; font-size: 10px; color: #999; gap: 2px; }

        /* åº•éƒ¨äº’åŠ¨æ  */
        .post-footer { position: fixed; bottom: 0; width: 100%; height: 50px; background: #fff; border-top: 0.5px solid #eee; display: flex; align-items: center; padding: 0 15px; gap: 20px; padding-bottom: max(10px, env(safe-area-inset-bottom)); box-sizing: content-box; z-index: 100; }
        .fake-input { flex: 1; height: 36px; background: #f5f5f5; border-radius: 18px; color: #999; font-size: 13px; display: flex; align-items: center; padding-left: 15px; }
        .action-icon { display: flex; align-items: center; gap: 4px; font-size: 13px; color: #333; cursor: pointer; }
        .action-icon i { font-size: 24px; }
        .action-icon.active { color: #ff2442; } /* ç‚¹èµçº¢è‰² */
        .action-icon.fav-active { color: #f5c518; } /* æ”¶è—é»„è‰² */

        /* --- 4. Chat & Other Styles --- */
        .chat-list { padding: 0 0 100px; }
        .chat-item { display: flex; padding: 16px 20px; border-bottom: 0.5px solid #f0f0f0; align-items: center; gap: 14px; }
        .chat-room-body { flex: 1; background: #f5f5f5; padding: 15px; overflow-y: auto; display: flex; flex-direction: column; gap: 15px; padding-bottom: 80px; }
        .msg-bubble { max-width: 70%; padding: 10px 14px; border-radius: 16px; font-size: 14px; line-height: 1.4; }
        .msg-left { background: #fff; border-bottom-left-radius: 4px; }
        .msg-right { background: #007AFF; color: #fff; border-bottom-right-radius: 4px; }
        
        .tab-bar { height: 84px; background: #fff; border-top: 0.5px solid #e0e0e0; display: flex; justify-content: space-around; padding-top: 10px; position: absolute; bottom: 0; width: 100%; z-index: 99; }
        .tab-item { display: flex; flex-direction: column; align-items: center; width: 25%; color: #999; }
        .tab-item.active { color: #007AFF; }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>

<div id="phone-frame">
    <div class="status-bar">
        <span>17:06</span>
        <span>ğŸ“¶ 5G &nbsp; ğŸ”‹ 49%</span>
    </div>

    <div id="ob-1" class="screen active onboard-screen" style="background-image: url('https://placehold.co/375x812/ffe0b2/e65100?text=Warm+Moment');">
        <div class="onboard-overlay">
            <div class="step-indicator"><div class="step active"></div><div class="step"></div><div class="step"></div></div>
            <h1 style="font-size:28px;margin-bottom:10px;color:white;">è¿æ¥ä½ çš„<br>éŸ©å›½å¿ƒæ„</h1>
            <p style="opacity:0.8;margin-bottom:30px;color:white;">ç²¾é€‰é¦–å°”æœ€å¥½çš„è›‹ç³•ä¸é²œèŠ±ã€‚</p>
            <button class="btn btn-primary" onclick="showScreen('screen-login')">å¼€å§‹ä½“éªŒ</button>
        </div>
    </div>

    <div id="screen-login" class="screen">
        <div style="padding:40px 30px;height:100%;display:flex;flex-direction:column;justify-content:center;margin-top:-40px;">
            <div style="font-size:50px;color:#007AFF;font-weight:bold;margin-bottom:20px;">Ly.</div>
            <h1 style="margin-bottom:10px;">æ¬¢è¿å›æ¥</h1>
            <p style="color:#666;margin-bottom:50px;">ç™»å½•ä»¥å¼€å§‹æ‚¨çš„ç”œèœœæ—…ç¨‹</p>
            <button class="btn" style="border:1px solid #eee;display:flex;justify-content:center;gap:10px;margin-bottom:15px;" onclick="login()">
                <span style="color:#07C160;">ğŸ’¬</span> å¾®ä¿¡ä¸€é”®ç™»å½•
            </button>
            <button class="btn btn-primary" style="background:#333;" onclick="login(true)">æ¸¸å®¢è¯•ç”¨ (Guest)</button>
        </div>
    </div>

    <div id="tab-home" class="screen">
        <div class="header">
            <div class="header-title" style="text-align:left;color:#007AFF;font-size:22px;">Lychee</div>
            <div style="background:#f2f2f7;padding:8px 12px;border-radius:20px;font-size:12px;color:#666;">ğŸ” æœç´¢è›‹ç³•/é²œèŠ±</div>
        </div>
        <div style="padding:10px 20px;">
            <div style="height:140px;background:url('https://placehold.co/600x300/e1f5fe/007aff?text=Seoul+Top+10') center/cover;border-radius:12px;margin-bottom:20px;"></div>
            <div style="font-weight:bold;font-size:18px;margin-bottom:10px;">çƒ­é—¨å•†å“</div>
            <div style="display:flex;gap:15px;overflow-x:auto;">
                <div style="min-width:140px;" onclick="openDetail('å¤å¤åˆ»å­—è›‹ç³•', 'â‚© 58,000')">
                    <img src="https://placehold.co/140x180/f3e5f5/7b1fa2?text=Cake" style="width:140px;height:140px;border-radius:12px;object-fit:cover;">
                    <div style="font-size:13px;font-weight:bold;margin-top:5px;">å¤å¤åˆ»å­—è›‹ç³•</div>
                </div>
                <div style="min-width:140px;">
                    <img src="https://placehold.co/140x180/e0f2f1/00695c?text=Tulip" style="width:140px;height:140px;border-radius:12px;object-fit:cover;">
                    <div style="font-size:13px;font-weight:bold;margin-top:5px;">å½“å­£éƒé‡‘é¦™</div>
                </div>
            </div>
        </div>
    </div>

    <div id="tab-feed" class="screen">
        <div class="feed-header">
            <div style="width:24px;">â¤ï¸</div>
            <div class="feed-tabs">
                <div>å…³æ³¨</div>
                <div class="active">å•†å®¶åŠ¨æ€</div>
                <div>åè®°</div>
            </div>
            <div style="width:24px;">ğŸ”</div>
        </div>
        
        <div style="padding:0 10px 10px;display:flex;gap:15px;overflow-x:auto;font-size:12px;color:#666;">
            <span>é¤å…</span><span>ç§äººåˆ«å¢…</span><span>æ—¶å°š</span><span>ä¼´æ‰‹ç¤¼</span><span style="color:#333;font-weight:bold;">è›‹ç³•</span><span>é²œèŠ±</span>
        </div>

        <div class="feed-container">
            <div class="feed-card" onclick="openFeedDetail(1)">
                <img src="https://placehold.co/300x400/ffe0b2/e65100?text=Bear+Cookies" class="feed-img">
                <div class="feed-title">æµå·å²›æ»¡æœˆæ±€å‘ˆé€é”™è¿‡æˆ‘ä»¬è¿™å®¶å®å®è—åº—ï¼</div>
                <div class="feed-meta">
                    <div class="feed-user"><div class="user-avatar-xs"></div><span>å°æ„ç¤¼ç¤¼</span></div>
                    <div class="feed-likes">â¤ï¸ 120</div>
                </div>
            </div>
            <div class="feed-card" onclick="openFeedDetail(2)">
                <img src="https://placehold.co/300x350/e1f5fe/0277bd?text=Blue+Cake" class="feed-img">
                <div class="feed-title">å¸–å­çš„æ ‡é¢˜å¸–å­çš„æ ‡é¢˜å¸–å­çš„æ ‡é¢˜</div>
                <div class="feed-meta">
                    <div class="feed-user"><div class="user-avatar-xs"></div><span>CreamLabel</span></div>
                    <div class="feed-likes">â¤ï¸ 45</div>
                </div>
            </div>
            <div class="feed-card" onclick="openFeedDetail(3)">
                <img src="https://placehold.co/300x300/f3e5f5/7b1fa2?text=Fig+Cake" class="feed-img">
                <div class="feed-title">ç»ˆäºä¹°åˆ°è¿™å®¶è›‹ç³•äº†ï¼å¥½å¥½åƒ</div>
                <div class="feed-meta">
                    <div class="feed-user"><div class="user-avatar-xs"></div><span>Piugo</span></div>
                    <div class="feed-likes">â¤ï¸ 892</div>
                </div>
            </div>
            <div class="feed-card" onclick="openFeedDetail(4)">
                <img src="https://placehold.co/300x450/e8f5e9/2e7d32?text=Fried+Chicken" class="feed-img">
                <div class="feed-title">é¦–å°”æœ€å¥½åƒçš„ç‚¸é¸¡</div>
                <div class="feed-meta">
                    <div class="feed-user"><div class="user-avatar-xs"></div><span>ç¾é£Ÿä¾¦æ¢</span></div>
                    <div class="feed-likes">â¤ï¸ 3k</div>
                </div>
            </div>
        </div>
    </div>

    <div id="screen-feed-detail" class="screen sub-page">
        <div class="post-header">
            <div class="back-icon" onclick="closeSubPage('screen-feed-detail')">â€¹</div>
            <div class="author-info">
                <img src="https://placehold.co/100x100/eee/999?text=User" class="author-avatar">
                <span style="font-weight:600;font-size:14px;">å°æ„ç¤¼ç¤¼</span>
            </div>
            <div style="flex:1;"></div>
            <button class="follow-btn" id="follow-btn" onclick="toggleFollow()">å…³æ³¨</button>
            <div style="width:15px;"></div>
            <i class="fa-solid fa-share" style="font-size:18px;"></i>
        </div>

        <div style="padding-bottom: 60px;"> <div class="post-gallery" id="post-gallery">
                <img src="https://placehold.co/375x450/333/fff?text=Cake+Pic+1">
                <img src="https://placehold.co/375x450/444/fff?text=Cake+Pic+2">
                <img src="https://placehold.co/375x450/555/fff?text=Cake+Pic+3">
                <img src="https://placehold.co/375x450/666/fff?text=Cake+Pic+4">
                <img src="https://placehold.co/375x450/777/fff?text=Cake+Pic+5">
            </div>
            <div class="gallery-dots">
                <div class="g-dot active"></div><div class="g-dot"></div><div class="g-dot"></div><div class="g-dot"></div><div class="g-dot"></div>
            </div>

            <div class="post-content">
                <div class="post-title">è¶…æœ‰æ°›å›´æ„Ÿçš„ 16 ç§è›‹ç³• ğŸ‚ éƒ‘å·</div>
                <div class="post-text">
                    åœ¨è¿™ä¸ªå……æ»¡æµªæ¼«çš„å­£èŠ‚ï¼Œé€‰ä¸€æ¬¾ç‹¬ç‰¹çš„è›‹ç³•é€ç»™æœ€çˆ±çš„äººå§ã€‚æ— è®ºæ˜¯å¤å¤é£è¿˜æ˜¯æç®€é£ï¼Œéƒ½èƒ½åœ¨è¿™ä¸ªé¦–å°”çš„è¡—å¤´æ‰¾åˆ°...
                </div>
                <div class="post-tags">
                    #æ°›å›´æ„Ÿè›‹ç³• #é«˜çº§æ„Ÿè›‹ç³• #å¥³ç¥è›‹ç³• #è¿™ä¸ªè›‹ç³•æ˜¯æ‡‚æµªæ¼«çš„ #insè›‹ç³• #é¦–å°”æ¢åº—
                </div>
                <div class="post-date">11-26 ç¼–è¾‘äº éŸ©å›½</div>
            </div>

            <div class="comment-section">
                <div class="cmt-count">å…± 9 æ¡è¯„è®º</div>
                
                <div class="cmt-item">
                    <img src="https://placehold.co/50x50/ffecb3/e65100?text=U1" class="cmt-avatar">
                    <div class="cmt-body">
                        <div class="cmt-user">ä¸æƒ³å†™ä½œä¸š</div>
                        <div class="cmt-text">è¿™æ˜¯å“ªä¸€å®¶</div>
                        <div class="cmt-meta">
                            <span>07-09</span><span>å›å¤</span>
                        </div>
                    </div>
                    <div class="cmt-like"><i class="fa-regular fa-heart"></i><span>17</span></div>
                </div>

                <div class="cmt-item">
                    <img src="https://placehold.co/50x50/e1f5fe/0277bd?text=U2" class="cmt-avatar">
                    <div class="cmt-body">
                        <div class="cmt-user">å¥½åƒé±¼</div>
                        <div class="cmt-text">è¿™æ˜¯å“ªä¸€å®¶çš„å‘€</div>
                        <div class="cmt-meta"><span>10-27 æ²³å—</span><span>å›å¤</span></div>
                    </div>
                    <div class="cmt-like"><i class="fa-regular fa-heart"></i><span>6</span></div>
                </div>

                 <div class="cmt-item">
                    <img src="https://placehold.co/50x50/f3e5f5/7b1fa2?text=U3" class="cmt-avatar">
                    <div class="cmt-body">
                        <div class="cmt-user">ç±³æœµ</div>
                        <div class="cmt-text">æ˜å¤©è¦å®šï¼Œæ±‚åœ°å€</div>
                        <div class="cmt-meta"><span>11-01 æ²³å—</span><span>å›å¤</span></div>
                    </div>
                    <div class="cmt-like"><i class="fa-regular fa-heart"></i><span>3</span></div>
                </div>
            </div>
        </div>

        <div class="post-footer">
            <div class="fake-input">è¯´ç‚¹ä»€ä¹ˆ...</div>
            <div class="action-icon" id="like-btn" onclick="toggleLike()">
                <i class="fa-regular fa-heart" id="like-icon"></i>
                <span id="like-count">4297</span>
            </div>
            <div class="action-icon" id="fav-btn" onclick="toggleFav()">
                <i class="fa-regular fa-star" id="fav-icon"></i>
                <span id="fav-count">1092</span>
            </div>
            <div class="action-icon">
                <i class="fa-regular fa-comment-dots"></i>
                <span>9</span>
            </div>
        </div>
    </div>

    <div id="tab-chat" class="screen">
        <div class="header"><div class="header-title">æ¶ˆæ¯</div></div>
        <div class="chat-list">
            <div class="chat-item" onclick="openChat()">
                <div style="width:50px;height:50px;background:#fff3e0;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:24px;">ğŸ¥¨</div>
                <div style="flex:1;">
                    <div style="font-weight:bold;margin-bottom:4px;">mumudaebake é¦–å°”åº—</div>
                    <div style="font-size:13px;color:#888;">æ‚¨å¥½ï¼Œå¤šä¹°ä¸€æ ¹èœ¡çƒ›çš„è¯éœ€è¦åŠ  2000éŸ©å…ƒå“¦</div>
                </div>
            </div>
        </div>
    </div>

    <div id="tab-my" class="screen">
        <div style="padding:20px;display:flex;align-items:center;gap:15px;margin-top:44px;background:#fff;">
            <div style="width:70px;height:70px;border-radius:50%;background:#ddd;"></div>
            <div><h2 style="font-size:20px;">å¾®ä¿¡ç”¨æˆ·_Lychee</h2><div style="font-size:12px;color:#888;">ID: 8829103</div></div>
        </div>
        <div style="margin-top:10px;background:#fff;padding:0 20px;">
            <div style="padding:18px 0;border-bottom:1px solid #eee;">â¤ï¸ æˆ‘çš„æ”¶è—</div>
            <div style="padding:18px 0;border-bottom:1px solid #eee;">ğŸ“ åœ°å€ç®¡ç†</div>
            <div style="padding:18px 0;border-bottom:1px solid #eee;color:red;" onclick="showScreen('screen-login')">é€€å‡ºç™»å½•</div>
        </div>
    </div>

    <div id="screen-chat-room" class="screen sub-page">
        <div class="header">
            <div class="back-icon" onclick="closeSubPage('screen-chat-room')">â€¹</div>
            <div class="header-title">mumudaebake é¦–å°”åº—</div>
            <div style="width:40px;">â‹¯</div>
        </div>
        <div class="chat-room-body" id="chat-history">
            <div style="display:flex;gap:8px;"><div style="width:36px;height:36px;background:#fff3e0;border-radius:50%;display:flex;align-items:center;justify-content:center;">ğŸ¥¨</div><div class="msg-bubble msg-left">æ‚¨å¥½ï¼Œæ¬¢è¿å…‰ä¸´ï¼</div></div>
        </div>
        <div style="position:absolute;bottom:0;width:100%;background:#fff;padding:10px;border-top:1px solid #eee;display:flex;gap:10px;padding-bottom:max(10px,env(safe-area-inset-bottom));">
            <input type="text" id="chat-msg-input" style="flex:1;height:36px;border:1px solid #ddd;border-radius:18px;padding:0 15px;" placeholder="å‘é€æ¶ˆæ¯...">
            <button onclick="sendMessage()" style="width:36px;height:36px;border-radius:50%;background:#007AFF;color:white;border:none;">â†‘</button>
        </div>
    </div>

    <div id="screen-detail" class="screen sub-page">
        <div style="position:relative;"><img src="https://placehold.co/375x375/f3e5f5/7b1fa2?text=Detail" style="width:100%;"><div class="back-icon" style="position:absolute;top:50px;left:20px;background:rgba(255,255,255,0.8);border-radius:50%;text-align:center;line-height:40px;" onclick="closeSubPage('screen-detail')">â€¹</div></div>
        <div style="padding:20px;background:#fff;border-radius:20px 20px 0 0;margin-top:-30px;position:relative;">
            <h1 style="font-size:24px;">å¤å¤åˆ»å­—è›‹ç³•</h1>
            <div style="color:#007AFF;font-size:22px;font-weight:bold;margin:10px 0;">â‚© 58,000</div>
        </div>
        <div style="position:fixed;bottom:0;width:100%;padding:20px;background:#fff;border-top:1px solid #eee;">
            <button class="btn btn-primary" onclick="alert('è¿›å…¥æ”¯ä»˜æµç¨‹')">ç«‹å³é¢„è®¢</button>
        </div>
    </div>

    <div class="tab-bar" id="main-nav" style="display: none;">
        <div class="tab-item active" onclick="switchTab('tab-home', this)"><div>ğŸ </div><div style="font-size:10px;">ä¸»é¡µ</div></div>
        <div class="tab-item" onclick="switchTab('tab-feed', this)"><div>ğŸ›ï¸</div><div style="font-size:10px;">åŠ¨æ€</div></div>
        <div class="tab-item" onclick="switchTab('tab-chat', this)"><div>ğŸ’¬</div><div style="font-size:10px;">æ¶ˆæ¯</div></div>
        <div class="tab-item" onclick="switchTab('tab-my', this)"><div>ğŸ‘¤</div><div style="font-size:10px;">æˆ‘çš„</div></div>
    </div>
</div>

<script>
    /* --- æ ¸å¿ƒé€»è¾‘ --- */
    function showScreen(id) {
        document.querySelectorAll('.screen').forEach(el => { if(!el.classList.contains('sub-page')) el.classList.remove('active'); });
        document.getElementById(id).classList.add('active');
        const nav = document.getElementById('main-nav');
        if(id.startsWith('tab-')) nav.style.display = 'flex'; else nav.style.display = 'none';
    }
    function openSubPage(id) { document.getElementById(id).classList.add('active'); }
    function closeSubPage(id) { document.getElementById(id).classList.remove('active'); }
    
    function login(isGuest) {
        setTimeout(() => { switchTab('tab-home', document.querySelectorAll('.tab-item')[0]); }, 500);
    }
    
    function switchTab(screenId, element) {
        showScreen(screenId);
        document.querySelectorAll('.tab-item').forEach(el => el.classList.remove('active'));
        if(element) element.classList.add('active');
    }

    // --- åŠ¨æ€è¯¦æƒ…é¡µé€»è¾‘ ---
    function openFeedDetail(id) {
        // æ¨¡æ‹Ÿæ•°æ®å¡«å……
        const gallery = document.getElementById('post-gallery');
        gallery.scrollLeft = 0; // é‡ç½®æ»šåŠ¨
        openSubPage('screen-feed-detail');
    }

    function toggleLike() {
        const icon = document.getElementById('like-icon');
        const count = document.getElementById('like-count');
        const btn = document.getElementById('like-btn');
        
        if (btn.classList.contains('active')) {
            btn.classList.remove('active');
            icon.classList.remove('fa-solid');
            icon.classList.add('fa-regular');
            count.innerText = parseInt(count.innerText) - 1;
        } else {
            btn.classList.add('active');
            icon.classList.remove('fa-regular');
            icon.classList.add('fa-solid');
            icon.style.animation = 'heartPop 0.3s ease';
            count.innerText = parseInt(count.innerText) + 1;
            setTimeout(() => icon.style.animation = '', 300);
        }
    }

    function toggleFav() {
        const icon = document.getElementById('fav-icon');
        const btn = document.getElementById('fav-btn');
        
        if (btn.classList.contains('fav-active')) {
            btn.classList.remove('fav-active');
            icon.classList.remove('fa-solid');
            icon.classList.add('fa-regular');
        } else {
            btn.classList.add('fav-active');
            icon.classList.remove('fa-regular');
            icon.classList.add('fa-solid');
        }
    }

    function toggleFollow() {
        const btn = document.getElementById('follow-btn');
        if (btn.innerText === "å…³æ³¨") {
            btn.innerText = "å·²å…³æ³¨";
            btn.classList.add('followed');
        } else {
            btn.innerText = "å…³æ³¨";
            btn.classList.remove('followed');
        }
    }

    // --- èŠå¤©é€»è¾‘ ---
    function openChat() { openSubPage('screen-chat-room'); }
    function sendMessage() {
        const input = document.getElementById('chat-msg-input');
        const text = input.value.trim();
        if(!text) return;
        const history = document.getElementById('chat-history');
        history.innerHTML += `<div style="display:flex;justify-content:flex-end;margin-top:15px;"><div class="msg-bubble msg-right">${text}</div></div>`;
        input.value = '';
        history.scrollTop = history.scrollHeight;
        setTimeout(() => {
            history.innerHTML += `<div style="display:flex;gap:8px;margin-top:15px;"><div style="width:36px;height:36px;background:#fff3e0;border-radius:50%;display:flex;align-items:center;justify-content:center;">ğŸ¥¨</div><div class="msg-bubble msg-left">å¥½çš„ï¼Œæ”¶åˆ°ï¼</div></div>`;
            history.scrollTop = history.scrollHeight;
        }, 1000);
    }

    // --- è¯¦æƒ…é€»è¾‘ ---
    function openDetail() { openSubPage('screen-detail'); }
</script>
</body>
</html>
